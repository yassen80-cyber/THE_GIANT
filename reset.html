<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± - THE GIANT</title>
<style>
  body {
    background-color: #0b0f19;
    color: #fff;
    font-family: "Cairo", sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  .reset-box {
    background-color: #111827;
    padding: 2rem;
    border-radius: 15px;
    width: 90%;
    max-width: 450px;
    box-shadow: 0 0 15px rgba(0,0,0,0.4);
  }
  h2 {
    text-align: center;
    color: #00b2ff;
    margin-bottom: 1.5rem;
  }
  label {
    display: block;
    margin-bottom: 0.5rem;
    color: #ccc;
  }
  input {
    width: 100%;
    padding: 0.8rem;
    margin-bottom: 1rem;
    border: none;
    border-radius: 8px;
    background: #1e2636;
    color: #fff;
    font-size: 1rem;
  }
  button {
    width: 100%;
    padding: 0.8rem;
    background: #00b2ff;
    border: none;
    border-radius: 8px;
    color: #fff;
    font-size: 1rem;
    cursor: pointer;
    margin-bottom: 0.5rem;
  }
  button:hover {
    background: #0090cc;
  }
  p {
    text-align: center;
    margin-top: 1rem;
    font-size: 0.9rem;
    color: #bbb;
  }
  a {
    color: #00b2ff;
    text-decoration: none;
  }
  #customAlert {
    display: none;
    position: fixed;
    top:50%;
    left:50%;
    transform: translate(-50%,-50%);
    background:#111827;
    color:#fff;
    padding:25px;
    border-radius:15px;
    text-align:center;
    box-shadow:0 0 20px rgba(0,178,255,0.6);
    width:85%;
    max-width:350px;
    z-index:9999;
  }
  #customAlert h3 {
    margin-top:0;
    color:#00b2ff;
    font-size:1.3rem;
  }
  #customAlert button {
    margin-top:15px;
    background:#00b2ff;
    border:none;
    color:#fff;
    padding:8px 20px;
    border-radius:8px;
    cursor:pointer;
  }
  #customAlert button:hover {
    background:#0090cc;
  }
  .instructions {
    background: #1e2636;
    padding: 10px 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    font-size: 0.9rem;
    line-height: 1.4;
    color: #ccc;
  }
</style>
</head>

<body>

<div class="reset-box">
  <h2>Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h2>

  <div class="instructions">    
    <strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©:</strong><br>    
    Ø¨Ø¹Ø¯ Ø·Ù„Ø¨ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŒ ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„ÙˆØ§Ø±Ø¯. Ø¥Ø°Ø§ Ù„Ù… ØªØ¬Ø¯ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŒ ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø¬Ù„Ø¯ <strong>Spam / Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ù…Ø²Ø¹Ø¬</strong> ÙÙŠ Gmail:<br>    
    1. Ø§ÙØªØ­ Gmail<br>    
    2. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø«Ù„Ø§Ø« Ø®Ø·ÙˆØ· Ø£Ùˆ Ø²Ø± "Ø§Ù„Ù…Ø²ÙŠØ¯"<br>    
    3. Ø§Ø®ØªØ± <strong>Spam</strong><br>    
    4. Ø§ÙØªØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±<br>    
    5. Ø§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±<br>    
  </div>

  <form id="resetForm">
    <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
    <input type="email" id="email" placeholder="example@email.com" required>
    <button type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†</button>
    <button type="button" id="homeBtn">ğŸ  Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  </form>
</div>

<div id="customAlert">
  <h3 id="alertTitle">THE GIANT says ğŸš€</h3>
  <p id="alertMessage"></p>
  <button onclick="closeAlert()">ØªÙ…Ø§Ù…</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
const firebaseConfig = {
  apiKey: "AIzaSyDW80ZbwOB7QHHW76kSL9cqlzMoyPFZ7nI",
  authDomain: "ylearn-fe1fa.firebaseapp.com",
  databaseURL: "https://ylearn-fe1fa-default-rtdb.firebaseio.com",
  projectId: "ylearn-fe1fa",
  storageBucket: "ylearn-fe1fa.appspot.com",
  messagingSenderId: "1092852055944",
  appId: "1:1092852055944:web:85c3df7cf4c0cbcdca043d"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ ---
window.showAlert = function(msg, title="THE GIANT says ğŸš€") {
  document.getElementById("alertTitle").innerText = title;
  document.getElementById("alertMessage").innerText = msg;
  document.getElementById("customAlert").style.display = "block";
};

window.closeAlert = function() {
  document.getElementById("customAlert").style.display = "none";
};

document.getElementById("homeBtn").addEventListener("click", () => {
  window.location.href = "index.html";
});

// --- Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ---
document.getElementById("resetForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const email = document.getElementById("email").value.trim().toLowerCase();
  
  if (!email) {
    showAlert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£ÙˆÙ„Ø§Ù‹.");
    return;
  }

  // Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø§Ù„Ø© Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±
  const submitBtn = e.target.querySelector('button[type="submit"]');
  const originalText = submitBtn.innerText;
  submitBtn.disabled = true;
  submitBtn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

  try {
    // Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ù…Ø¨Ø§Ø´Ø±Ø©
    await sendPasswordResetEmail(auth, email);
    
    showAlert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­! ØªÙÙ‚Ø¯ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„ÙˆØ§Ø±Ø¯ (ÙˆØ§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ù…Ø²Ø¹Ø¬ Spam).", "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ âœ…");
    
    // ØªØµÙÙŠØ± Ø§Ù„Ø­Ù‚Ù„ Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­
    document.getElementById("email").value = "";

  } catch (error) {
    console.error("Reset Error:", error.code);
    let message = "Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";

    // ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù„Ù„Ø·Ø§Ù„Ø¨
    if (error.code === "auth/user-not-found") {
      message = "Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ù„Ø¯ÙŠÙ†Ø§ ÙÙŠ Ø§Ù„Ù…Ù†ØµØ©.";
    } else if (error.code === "auth/invalid-email") {
      message = "ØµÙŠØºØ© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­Ø©.";
    } else if (error.code === "auth/too-many-requests") {
      message = "Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø·Ù„Ø¨Ø§Øª ÙƒØ«ÙŠØ±Ø©ØŒ Ø§Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ ÙˆØ­Ø§ÙˆÙ„ Ø«Ø§Ù†ÙŠØ©.";
    }

    showAlert(message, "ØªÙ†Ø¨ÙŠÙ‡ âš ï¸");
  } finally {
    // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø²Ø± Ù„Ø­Ø§Ù„ØªÙ‡ Ø§Ù„Ø£ØµÙ„ÙŠØ©
    submitBtn.disabled = false;
    submitBtn.innerText = originalText;
  }
});
</script>
</body>
</html>